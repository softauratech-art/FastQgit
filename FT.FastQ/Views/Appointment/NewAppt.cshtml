@using FT.FastQ.Helpers
@model FT.FastQ.Models.NewAppointmentViewModel
@{
    ViewBag.Title = ResourceHelper.GetResourceString("NewAppointment");
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="page-container">
    <h2>@ResourceHelper.GetResourceString("NewAppointment")</h2>
    
    @using (Html.BeginForm("CreateAppointment", "Appointment", FormMethod.Post, new { @id = "appointmentForm" }))
    {
        @Html.AntiForgeryToken()
        
        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("ServiceProvider")</label>
                @Html.DropDownListFor(m => m.ServiceProvider, new SelectList(new[] { "Provider 1", "Provider 2", "Provider 3" }), ResourceHelper.GetResourceString("Select"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("ServiceType")</label>
                @Html.DropDownListFor(m => m.ServiceType, new SelectList(new[] { "Type 1", "Type 2", "Type 3" }), ResourceHelper.GetResourceString("Select"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("AppointmentDate")</label>
                @Html.DropDownListFor(m => m.AppointmentDate, new SelectList(new[] { "2024-01-15", "2024-01-16", "2024-01-17" }), ResourceHelper.GetResourceString("SelectAppointmentDate"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("AppointmentTime")</label>
                @Html.DropDownListFor(m => m.AppointmentTime, new SelectList(new[] { "09:00 AM", "10:00 AM", "11:00 AM", "02:00 PM", "03:00 PM" }), ResourceHelper.GetResourceString("Select"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("AppointmentType")</label>
                @Html.DropDownListFor(m => m.AppointmentType, new SelectList(new[] { "In-Person", "Virtual", "Phone" }), ResourceHelper.GetResourceString("Select"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("Reference")</label>
                @Html.DropDownListFor(m => m.Reference, new SelectList(new[] { "Ref 1", "Ref 2", "Ref 3" }), ResourceHelper.GetResourceString("Select"), new { @class = "form-control dropdown" })
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal enter-group">
                <label class="form-label">@ResourceHelper.GetResourceString("Enter")</label>
                <div class="enter-input-container">
                    @Html.TextBoxFor(m => m.EnterValue, new { @class = "form-control enter-input" })
                    <button type="button" class="btn btn-validate" id="validateBtn">
                        @ResourceHelper.GetResourceString("Validate")
                    </button>
                </div>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group form-group-horizontal">
                <label class="form-label">@ResourceHelper.GetResourceString("Comments"):</label>
                @Html.TextAreaFor(m => m.Comments, new { @class = "form-control comments-textarea", rows = "6", placeholder = "" })
            </div>
        </div>

        <div class="form-actions">
            <a href="#" class="link-guidelines">@ResourceHelper.GetResourceString("SeeMeetingGuidelines")</a>
            <button type="submit" class="btn btn-create">
                <span class="calendar-icon"></span>
                @ResourceHelper.GetResourceString("CreateAppointment")
            </button>
        </div>
    }
</div>

<style>
    .page-container {
        background: white;
        border-radius: 8px;
        padding: 15px 25px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        max-width: 900px;
        margin: 0 auto;
        height: calc(100vh - 100px);
        display: flex;
        flex-direction: column;
        overflow-y: hidden;
    }

    .page-container h2 {
        color: #667eea;
        margin-bottom: 12px;
        font-size: 22px;
        font-weight: 600;
        flex-shrink: 0;
    }

    #appointmentForm {
        display: flex;
        flex-direction: column;
        flex: 1;
        min-height: 0;
        overflow-y: auto;
    }

    .form-row {
        margin-bottom: 10px;
        flex-shrink: 0;
    }

    .form-group {
        margin-bottom: 0;
    }

    .form-group-horizontal {
        display: flex;
        align-items: center;
        gap: 30px;
    }

    .form-label {
        font-weight: bold;
        color: #333;
        font-size: 14px;
        width: 180px;
        min-width: 180px;
        flex-shrink: 0;
        text-align: right;
        padding-right: 10px;
    }

    .form-control {
        flex: 1;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        transition: border-color 0.3s;
        box-sizing: border-box;
        background-color: white;
        height: 38px;
    }

    .form-control:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .dropdown {
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 12px center;
        padding-right: 35px;
    }

    .enter-group .form-label {
        width: 180px;
        min-width: 180px;
    }

    .enter-input-container {
        display: flex;
        gap: 10px;
        align-items: center;
        flex: 1;
    }

    .enter-input {
        flex: 1;
    }

    .btn-validate {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 5px;
        font-size: 14px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 6px;
        white-space: nowrap;
        transition: background-color 0.3s;
        height: 38px;
        flex-shrink: 0;
    }

    .btn-validate:hover {
        background-color: #0056b3;
    }

    .validate-icon {
        font-size: 18px;
        display: inline-block;
        font-weight: bold;
        margin-right: 4px;
    }

    .comments-textarea {
        resize: none;
        min-height: 140px;
        font-family: inherit;
        padding: 10px 12px;
        height: 140px;
        flex: 1;
        box-sizing: border-box;
    }
    
    .form-group-horizontal .comments-textarea {
        align-self: flex-start;
    }
    
    /* Ensure Comments textarea width matches enter-input-container width */
    .form-row:nth-last-child(2) .form-group-horizontal {
        align-items: flex-start;
    }
    
    /* Match the Comments textarea width to the enter-input-container */
    .comments-textarea {
        width: 100%;
        max-width: 100%;
    }

    .form-actions {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        margin-top: 10px;
        padding-top: 10px;
        border-top: 1px solid #eee;
        flex-shrink: 0;
        gap: 30px;
    }
    
    .form-actions .link-guidelines {
        width: 180px;
        text-align: right;
        padding-right: 10px;
        flex-shrink: 0;
    }
    
    .form-actions .btn-create {
        margin-left: 0;
        margin-right: 0;
    }

    .link-guidelines {
        color: #007bff;
        text-decoration: underline;
        font-size: 14px;
        cursor: pointer;
    }

    .link-guidelines:hover {
        color: #0056b3;
    }

    .btn-create {
        background-color: #28a745;
        color: white;
        border: none;
        padding: 10px 60px;
        border-radius: 5px;
        font-size: 15px;
        font-weight: 500;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: background-color 0.3s;
    }

    .btn-create:hover {
        background-color: #218838;
    }

    .calendar-icon {
        width: 18px;
        height: 18px;
        display: inline-block;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='18' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'%3E%3C/rect%3E%3Cline x1='16' y1='2' x2='16' y2='6'%3E%3C/line%3E%3Cline x1='8' y1='2' x2='8' y2='6'%3E%3C/line%3E%3Cline x1='3' y1='10' x2='21' y2='10'%3E%3C/line%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: center;
        background-size: contain;
        margin-right: 6px;
        vertical-align: middle;
    }

    @@media (max-width: 768px) {
        .page-container {
            padding: 20px;
        }

        .enter-input-container {
            flex-direction: column;
        }

        .btn-validate {
            width: 100%;
            justify-content: center;
        }

        .form-actions {
            flex-direction: column;
            gap: 15px;
            align-items: stretch;
        }

        .btn-create {
            width: 100%;
            justify-content: center;
        }
    }
</style>

<script>
    $(document).ready(function () {
        $('#validateBtn').on('click', function () {
            var enterValue = $('#EnterValue').val();
            if (enterValue) {
                // Add validation logic here
                alert('Validating: ' + enterValue);
            } else {
                alert('Please enter a value to validate');
            }
        });
    });
</script>
